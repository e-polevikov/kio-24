<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Kio Problem</title>
    <script src="../kio_test_box/jquery-1.7.2.min.js"></script>
    <script src="../kio_test_box/easeljs-1.0.0.min.js"></script>
    <script src="../kio_test_box/preloadjs-1.0.0.min.js"></script>
    <script src="../kio_test_box/dces2contest.js"></script>
    <script src="../kio_test_box/kio_api.js"></script>
    <link rel="stylesheet" type="text/css" href="../kio_test_box/kio_api.css">
    <script src="[TASKNAME].js"></script>
    <link rel="stylesheet" type="text/css" href="[TASKNAME].css">
</head>
<body>
<div id="stud-unique-id" style="display: none">kio-task-[TASKNAME]</div> <!--TODO get this somehow from task id -->
<div id="problem">
</div>
<script>
    let query = location.search.substr(1).trim().split('&');
    let level = 0;
    //TODO generalize
    for (let i = 0; i < query.length; i++) {
        if (query[i] === "level=1")
            level = 1;
        else if (query[i] === "level=2")
            level = 2;
    }

    console.log('loading task level', level);

    document.getElementById('stud-unique-id').innerText = 'kio-task-[TASKNAME]-' + level;

    kio_api.initializeKioProblem(
        [TASKNAME].[TASKNAME|CAPITALIZE],
        document.getElementById('problem'),
        {level: level}
    );
</script>
</body>
</html>
